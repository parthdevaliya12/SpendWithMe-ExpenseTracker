import{c as P,u as A,r as o,a as I,j as e,H as _}from"./index-DCJStnxC.js";import{D as F}from"./Darkmode-CQAHjqn6.js";import{N as M,L as z}from"./Navbar-CHZzWMVZ.js";import{a as f,s as j,d as i}from"./index-KiaMnbIT.js";import"./wallet-DuVLcq8z.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=P("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),O=()=>{var b,y;const d=A(),[n,c]=o.useState(!0),[r,m]=o.useState(""),[g,v]=o.useState(""),[k,x]=o.useState(!1),[l,u]=o.useState(""),h=o.useRef(!1),{showLoading:w,updateLoadingToSuccess:N,updateLoadingToError:S}=I(),p={withCredentials:!0,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user_token")}`}},L=()=>{localStorage.removeItem("user_token"),d("/login")},C=async()=>{c(!0);try{const t=await f.get(`${j}/api/v1/user/profile/profile-data`,p),a=i(t.data);m(a.data.name),v(a.data.email),u(a.data.name),h.current=!0}catch(t){const a=i(t.response.data);((a==null?void 0:a.message)==="Your session has expired. Please login again."||(a==null?void 0:a.message)==="Authentication is required. Please log in."||(a==null?void 0:a.message)==="your account is deactivate please connect to admin!")&&(localStorage.removeItem("user_token"),d("/login"))}finally{c(!1),h.current=!0}},E=async()=>{const t=w("Updating Name");try{const a=await f.patch(`${j}/api/v1/user/profile/update-profile`,{name:l},p),s=i(a.data);N(t,s.message),m(l),x(!1)}catch(a){const s=i(a.response.data);S(t,(s==null?void 0:s.message)||"Something went wrong"),((s==null?void 0:s.message)==="Your session has expired. Please login again."||(s==null?void 0:s.message)==="Authentication is required. Please log in."||(s==null?void 0:s.message)==="your account is deactivate please connect to admin!")&&(localStorage.removeItem("user_token"),d("/login"))}};return o.useEffect(()=>{C()},[]),e.jsxs("div",{className:"mx-auto min-h-screen dark:bg-gray-950",children:[e.jsxs("header",{className:"flex w-full shadow-md h-14 sm:h-16 md:h-20 items-center sticky top-0 bg-white/90 backdrop-blur-md z-40 px-3 sm:px-6 lg:px-8 dark:bg-black/90 dark:text-white border-b dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>d("/dashboard"),children:[e.jsx(_,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 transform hover:scale-105 transition-transform"}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent truncate",children:"SpendWithMe"})]}),e.jsx(M,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-2 sm:space-x-4",children:[e.jsx(F,{}),n?e.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-700 rounded-full w-10 h-10 sm:w-12 sm:h-12"}):e.jsx("div",{className:"flex relative hover:cursor-pointer rounded-full w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-600 to-blue-400 items-center justify-center text-white transition-all hover:shadow-lg hover:scale-105",children:(b=r==null?void 0:r.charAt(0))==null?void 0:b.toUpperCase()})]})]}),e.jsx("div",{className:"flex justify-center px-4 md:px-8",children:e.jsx("div",{className:"bg-white mt-10 dark:bg-gray-900 rounded-lg shadow-md overflow-hidden border dark:border-gray-700 max-w-md md:max-w-2xl lg:max-w-3xl w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n?e.jsx("div",{className:"animate-pulse h-8 w-48 bg-gray-300 dark:bg-gray-700 rounded"}):e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),n?e.jsx("div",{className:"animate-pulse h-8 w-24 bg-gray-300 dark:bg-gray-700 rounded"}):e.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-red-500 hover:text-red-600 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]}),e.jsxs("div",{className:"flex items-center mb-8",children:[n?e.jsx("div",{className:"animate-pulse w-16 h-16 bg-gray-300 dark:bg-gray-700 rounded-full mr-4"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-blue-400 rounded-full flex items-center justify-center text-white text-2xl font-bold mr-4",children:(y=r==null?void 0:r.charAt(0))==null?void 0:y.toUpperCase()}),e.jsx("div",{className:"flex-1",children:n?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"animate-pulse h-6 w-48 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"animate-pulse h-4 w-32 bg-gray-300 dark:bg-gray-700 rounded"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:r}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:g})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name"}),n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-300 dark:bg-gray-700 rounded-md"}):e.jsx("div",{className:"flex items-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",className:`flex-grow p-3 border border-gray-300 dark:border-gray-600 
                            rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                            focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                            placeholder-gray-400 dark:placeholder-gray-500`,value:l,onChange:t=>u(t.target.value)}),e.jsx("button",{onClick:E,className:`py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-medium 
                             rounded-md transition-colors`,children:"Save"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`flex-grow p-3 border border-gray-300 dark:border-gray-600 
                                  rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white`,children:r}),e.jsx("button",{onClick:()=>x(!0),className:`py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-medium 
                             rounded-md transition-colors`,children:e.jsx(D,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-300 dark:bg-gray-700 rounded-md"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"email",disabled:!0,className:`w-full p-3 border border-gray-300 dark:border-gray-600 
                       rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400`,value:g,readOnly:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Account identifier â€¢ cannot be modified"})]})]})]})]})})})]})};export{O as default};
