import{u as S,r as f,a as E,j as e,N as C,G as q}from"./index-DCJStnxC.js";import{a as b,s as w,e as l,h as y,d as i}from"./index-KiaMnbIT.js";import{u as P}from"./index.esm-DZoRp5vJ.js";import{E as _,a as F}from"./eye-Cc5-LG43.js";function G(){const c=S(),[d,n]=f.useState(!1),[m,j]=f.useState(!1),{register:x,handleSubmit:N,formState:{errors:t}}=P(),{showLoading:g,updateLoadingToSuccess:h,updateLoadingToError:p}=E(),v=()=>{c("/signup")},k=async r=>{const o=g("Signing in...");n(!0);try{const a=await b.post(`${w}/api/v1/user/auth/google-signup`,{data:l({token:r==null?void 0:r.credential})},y),s=i(a.data);h(o,s.message);const u=l(s.data.token);localStorage.setItem("user_token",u),c("/dashboard")}catch(a){const s=i(a.response.data);p(o,(s==null?void 0:s.message)||"Something went wrong")}finally{n(!1)}},L=async r=>{const o=g("Logging in...");n(!0);try{const a=await b.post(`${w}/api/v1/user/auth/login`,{data:l(r)},y),s=i(a.data),u=l(s.data.token);localStorage.setItem("user_token",u),h(o,s.message),c("/dashboard")}catch(a){const s=i(a.response.data);p(o,(s==null?void 0:s.message)||"Something went wrong")}finally{n(!1)}};return e.jsx("div",{className:"flex w-full h-screen items-center dark:bg-gray-900 justify-center bg-gradient-to-br from-blue-100 via-white to-cyan-100 px-4 sm:px-6",children:e.jsxs("div",{className:"w-full sm:w-11/12 md:w-1/3 max-w-md p-8 bg-white shadow-lg rounded-2xl border border-gray-200",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"font-serif font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent text-3xl mb-2",children:"SpendWithMe"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Welcome back"})]}),e.jsxs("form",{className:"space-y-5",onSubmit:N(L),children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium",children:"Email"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"email",id:"email",className:`p-3 border ${t.email?"border-red-500":"border-gray-300"} rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all`,placeholder:"Enter your email",...x("email",{required:"Email is required"})})}),t.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.email.message})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium",children:"Password"})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",id:"password",className:`p-3 border ${t.password?"border-red-500":"border-gray-300"} rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all`,placeholder:"Enter your password",minLength:8,...x("password",{required:"Password is required"})}),e.jsx("button",{type:"button",onClick:()=>j(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:m?e.jsx(F,{className:"w-5 h-5"}):e.jsx(_,{className:"w-5 h-5"})})]}),t.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.password.message}),e.jsx(C,{to:"/forgotpassword",className:"text-blue-600 text-sm hover:text-blue-800 transition-colors",children:"Forgot Password?"})]}),e.jsx("button",{type:"submit",className:"w-full h-12 mt-6 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium rounded-lg transition-all hover:from-cyan-600 hover:to-blue-700 flex items-center justify-center",disabled:d,children:d?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Login"})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("p",{className:"mx-4 text-gray-500 text-sm font-medium",children:"OR"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsx("div",{className:"flex justify-center items-center mb-6",children:e.jsx(q,{onSuccess:k,disabled:d,useOneTap:!1,size:"large",theme:"outline",shape:"rectangular",auto_select:!1})}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{onClick:v,className:"text-blue-700 cursor-pointer hover:underline",children:["Don't"," have an account? Sign up"]})})]})})}export{G as default};
