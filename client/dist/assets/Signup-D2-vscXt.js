import{j as e,u as E,r as f,a as P,G as $}from"./index-DCJStnxC.js";import{a as w,s as v,e as p,h as S,d as g}from"./index-KiaMnbIT.js";import{u as q}from"./index.esm-DZoRp5vJ.js";import{E as F,a as z}from"./eye-Cc5-LG43.js";const G=({password:c})=>{const l=(s=>{if(!s)return{score:0,message:""};let r=0,t={length:s.length>=8,hasNumber:/\d/.test(s),hasLowerCase:/[a-z]/.test(s),hasUpperCase:/[A-Z]/.test(s),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(s)};return t.length&&(r+=1),t.hasNumber&&(r+=1),t.hasLowerCase&&(r+=1),t.hasUpperCase&&(r+=1),t.hasSpecial&&(r+=1),{score:r,message:["Very weak","Weak","Fair","Good","Strong","Very strong"][r],checks:t}})(c),h=l.score/5*100,x=s=>s<=1?"bg-red-500":s<=2?"bg-orange-500":s<=3?"bg-yellow-500":s<=4?"bg-green-500":"bg-emerald-500";return e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${x(l.score)} transition-all duration-300`,style:{width:`${h}%`}})}),c&&e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Password strength: ",e.jsx("span",{className:"font-medium",children:l.message})]})})]})};function M(){const c=E(),[u,l]=f.useState(!1),[h,x]=f.useState(""),[s,r]=f.useState(!1),{register:t,handleSubmit:b,formState:{errors:n}}=q(),{showLoading:y,updateLoadingToSuccess:j,updateLoadingToError:N}=P(),C=o=>{o.preventDefault(),c("/login")},k=async o=>{const m=y("Signing up...");l(!0);try{const d=await w.post(`${v}/api/v1/user/auth/google-signup`,{data:p({token:o==null?void 0:o.credential})},S),a=g(d.data);j(m,a.message);const i=p(a.data.token);localStorage.setItem("user_token",i),c("/dashboard")}catch(d){const a=g(d.response.data);N(m,(a==null?void 0:a.message)||"Something went wrong")}finally{l(!1)}},L=async o=>{var d;const m=y("Creating your account...");l(!0);try{const a=await w.post(`${v}/api/v1/user/auth/signup`,{data:p(o)},S),i=g(a.data);j(m,i.message),c("/login")}catch(a){const i=g((d=a==null?void 0:a.response)==null?void 0:d.data);N(m,(i==null?void 0:i.message)||"Something went wrong")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-100 via-white to-cyan-100 p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white shadow-lg rounded-2xl border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"font-serif font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent text-3xl mb-2",children:"SpendWithMe"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Create your account"})]}),e.jsxs("form",{className:"space-y-5",onSubmit:b(L),children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-medium",children:"Full Name"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",id:"name",className:`p-3 border ${n.name?"border-red-500":"border-gray-300"} rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all`,placeholder:"Enter your full name",...t("name",{required:"Name is required"})})}),n.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.name.message})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium",children:"Email"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"email",id:"email",className:`p-3 border ${n.email?"border-red-500":"border-gray-300"} rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all`,placeholder:"Enter your email address",...t("email",{required:"Email is required"})})}),n.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email.message})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:s?"text":"password",id:"password",minLength:8,className:`p-3 border ${n.password?"border-red-500":"border-gray-300"} rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all`,placeholder:"Create a secure password",...t("password",{required:"Password is required"}),onChange:o=>x(o.target.value)}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:s?e.jsx(z,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]}),e.jsx(G,{password:h}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Password must be at least 8 characters long"}),n.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.password.message})]}),e.jsx("button",{type:"submit",className:"w-full h-12 mt-6 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium rounded-lg transition-all hover:from-cyan-600 hover:to-blue-700 flex items-center justify-center",disabled:u,children:u?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign up"})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("p",{className:"mx-4 text-gray-500 text-sm font-medium",children:"OR"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsx("div",{className:"flex justify-center items-center mb-6",children:e.jsx($,{onSuccess:k,disabled:u,useOneTap:!1,size:"large",theme:"outline",shape:"rectangular",auto_select:!1})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx("span",{className:"text-blue-600 font-medium hover:text-blue-800 cursor-pointer transition-colors",onClick:C,children:"Login"})]})})]})})}export{M as default};
